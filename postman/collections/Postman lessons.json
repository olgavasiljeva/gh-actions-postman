{
	"info": {
		"_postman_id": "1776dae3-76ac-4ca6-807a-d3f2ae5f5e23",
		"name": "Postman lessons",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_uid": "20586342-1776dae3-76ac-4ca6-807a-d3f2ae5f5e23"
	},
	"item": [
		{
			"name": "Status",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", () => {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"const response = pm.response.json()",
							"",
							"console.log(response)",
							"console.log(response[\"status\"])",
							"",
							"pm.test(\"Status returns as OK\", () => {",
							"    pm.expect(response.status).to.eql(\"OK\")",
							"})"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"id": "9ca432bc-8d66-488c-b230-1632bfc15254"
					}
				}
			],
			"id": "4c5a3282-55d6-4ce1-b091-c822acd9402f",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/status",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"status"
					]
				}
			},
			"response": []
		},
		{
			"name": "List of books",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", () => {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"const response = pm.response.json()",
							"const nonFicrtionBook = response.filter((book) => book.available === true )",
							"",
							"console.log(nonFicrtionBook[0].id)",
							"",
							"pm.globals.set(\"bookId\", nonFicrtionBook[0].id);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"id": "58eaa2e0-7146-43f7-b78e-0f8d422451bc"
					}
				}
			],
			"id": "951c48f0-1ee7-4f09-b407-13266215bf59",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/books?type=non-fiction",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"books"
					],
					"query": [
						{
							"key": "type",
							"value": "non-fiction"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get a book",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", () => {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"const response = pm.response.json()",
							"",
							"pm.test(\"Stock is above 0\", () => {",
							"    pm.expect(response[\"current-stock\"]).to.be.above(0)",
							"})"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"id": "2d895f5a-5f51-47ca-9b35-ec13a7bff704"
					}
				}
			],
			"id": "83f3ea13-5a59-4aff-8801-21a3e5b6302b",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/books/:bookId",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"books",
						":bookId"
					],
					"variable": [
						{
							"key": "bookId",
							"value": "{{bookId}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Order a book",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", () => {",
							"    pm.response.to.have.status(201);",
							"});",
							"",
							"const response = pm.response.json()",
							"",
							"pm.globals.set(\"orderId\", response.orderId);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"id": "4d6f825b-705a-4151-8a2d-ac6086b9e95c"
					}
				}
			],
			"id": "dc7365df-629a-44d6-a5b6-0d65557effa7",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"bookId\": {{bookId}},\n  \"customerName\": \"{{$randomFullName}}\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://simple-books-api.click/orders",
					"protocol": "https",
					"host": [
						"simple-books-api",
						"click"
					],
					"path": [
						"orders"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get All orders",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", () => {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"id": "8997c694-4f83-4069-8a43-9500b4ab4ac4"
					}
				}
			],
			"id": "67c2180c-f03f-4472-b3a7-4266b9f41b7b",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://simple-books-api.click/orders",
					"protocol": "https",
					"host": [
						"simple-books-api",
						"click"
					],
					"path": [
						"orders"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get 1 order",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", () => {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"id": "86d80a22-a9f2-4f18-8986-7703898329d0"
					}
				}
			],
			"id": "49bf4dee-cc7c-4f2c-a592-56167b643128",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://simple-books-api.click/orders/:orderId",
					"protocol": "https",
					"host": [
						"simple-books-api",
						"click"
					],
					"path": [
						"orders",
						":orderId"
					],
					"query": [
						{
							"key": "type",
							"value": "fiction",
							"disabled": true
						}
					],
					"variable": [
						{
							"key": "orderId",
							"value": "{{orderId}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Update an order",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 204\", () => {",
							"    pm.response.to.have.status(204);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"id": "cfab3c3f-bdfc-4e51-b07b-e30eb886f940"
					}
				}
			],
			"id": "847853b6-aee1-4a98-afd3-0557628c286d",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "PATCH",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"customerName\": \"Piter\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://simple-books-api.click/orders/:orderId",
					"protocol": "https",
					"host": [
						"simple-books-api",
						"click"
					],
					"path": [
						"orders",
						":orderId"
					],
					"query": [
						{
							"key": "type",
							"value": "fiction",
							"disabled": true
						}
					],
					"variable": [
						{
							"key": "orderId",
							"value": "{{orderId}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete an order",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 204\", () => {",
							"    pm.response.to.have.status(204);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"id": "6441f26e-2323-4e92-95f2-5f0f14477da8"
					}
				}
			],
			"id": "e76d5261-db4c-4ee3-9b0f-41ba627890d3",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"customerName\": \"Piter\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://simple-books-api.click/orders/:orderId",
					"protocol": "https",
					"host": [
						"simple-books-api",
						"click"
					],
					"path": [
						"orders",
						":orderId"
					],
					"query": [
						{
							"key": "type",
							"value": "fiction",
							"disabled": true
						}
					],
					"variable": [
						{
							"key": "orderId",
							"value": "{{orderId}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Register a client",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", () => {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"id": "24bf4cbc-ffcf-4203-bd27-1f8aeec30bd5"
					}
				}
			],
			"id": "49808681-1ff3-4aaf-bc2b-1c65caead080",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"clientName\": \"DariaSidorova222\",\n    \"clientEmail\": \"DariaSidorova222@example.com\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseUrl}}/api-clients/",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api-clients",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Register a client (file)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", () => {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {},
						"id": "135b51c1-671e-4734-b5ea-f6831906138b"
					}
				}
			],
			"id": "ac540ad9-89d9-4048-871e-e3aec15f0c66",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"clientName\": \"{{clientName}}\",\n    \"clientEmail\": \"{{clientEmail}}\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseUrl}}/api-clients/",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"api-clients",
						""
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				],
				"id": "d925d710-541a-45a1-94a3-a10c6c02cec5"
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				],
				"id": "321a5a6c-d1a5-4b7c-a1f1-818ccf07d964"
			}
		}
	],
	"variable": [
		{
			"id": "9d2a1eb2-2225-4014-9b26-517339403bf2",
			"key": "baseUrl",
			"value": "https://simple-books-api.glitch.me"
		},
		{
			"id": "f983ecb1-12dc-4ec4-8138-9dc24709d5a5",
			"key": "accessToken",
			"value": ""
		}
	]
}